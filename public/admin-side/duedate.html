<div class="pagetitle d-flex justify-content-between">
    <div>
      <h1>Post New Requirement</h1>
    </div>
    
    <div class="d-flex align-items-center gap-2">
      <!-- Sorting Dropdown -->
      <div class="dropdown">
        <button class="btn btn-outline-secondary btn-same-size dropdown-toggle" 
                type="button" id="sortDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="bi bi-sort-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="sortDropdown">
          <li><a class="dropdown-item sort-option" data-sort="newest">Newest Posted</a></li>
          <li><a class="dropdown-item sort-option" data-sort="oldest">Oldest Posted</a></li>
        </ul>
      </div>
      <!-- Edit Button -->
      <button class="btn btn-outline-primary btn-same-size" title="Edit">
        <i class="bi bi-pencil-square"></i>
      </button>
  
      <!-- Delete Button -->
      <button class="btn btn-outline-danger btn-same-size" title="Delete">
        <i class="bi bi-trash"></i>
      </button>
  
      <!-- Add Button -->
      <button class="btn custom-btn-primary" data-bs-toggle="modal" data-bs-target="#addDeadlineModal">
        <i class="bi bi-plus-circle me-1"></i> Add Requirements
      </button>
    </div>
  </div>

  <div class="row g-4" id="deadlineContainer">
    <!-- Card Template -->
    <div class="col-md-4 position-relative">
      <input type="checkbox" class="form-check-input position-absolute top-2 start-2 m-2 z-3">
      <div class="card h-100 border-success">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">Initial Requirements</h5>
          <h5>Student Information Sheet</h5>
          <p><strong>Due:</strong> April 30, 2025</p>
          <p><strong>Date Posted:</strong> March 15, 2025</p>
          <p class="text-muted small" style="flex-grow: 1;">
            Submit 3 printed copies and 1 digital copy through this system. Include 2x2 ID photo on your SIS.
          </p>
        </div>
      </div>
    </div>

    <div class="col-md-4 position-relative">
      <input type="checkbox" class="form-check-input position-absolute top-2 start-2 m-2 z-3">
      <div class="card h-100 border-success">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">Pre-Deployment</h5>
          <h5>Memorandum of Agreement</h5>
          <p><strong>Due:</strong> May 10, 2025</p>
          <p><strong>Date Posted:</strong> March 20, 2025</p>
          <p class="text-muted small" style="flex-grow: 1;">
            Submit 2 notarized copies of the signed Memorandum of Agreement (MOA).
          </p>
        </div>
      </div>
    </div>
  </div>

<!-- Add Modal -->
<div class="modal fade" id="addDeadlineModal" tabindex="-1" aria-labelledby="addDeadlineLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <form class="modal-content" id="deadlineForm">
      <div class="modal-header bg-dark-purple text-white">
        <h5 class="modal-title" id="addDeadlineLabel">Add New Requirement</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <!-- Requirement Category -->
        <div class="mb-3">
          <label for="requirementType" class="form-label">Requirement Category</label>
          <select class="form-select" id="requirementType" required>
            <option value="">Select Category</option>
            <option value="Initial Requirements">Initial Requirements</option>
            <option value="Pre-Deployment Requirements">Pre-Deployment</option>
            <option value="In-Progress Requirements">In-Progress</option>
            <option value="Final Requirements">Final Requirements</option>
          </select>
        </div>

        <!-- Title -->
        <div class="mb-3">
          <label for="deadlineTitle" class="form-label">Title</label>
          <input type="text" class="form-control" id="deadlineTitle" placeholder="e.g., Submit Resume Template" required>
        </div>

        <!-- Due Date -->
        <div class="mb-3">
          <label for="dueDate" class="form-label">Due Date</label>
          <input type="date" class="form-control" id="dueDate" required>
        </div>

        <!-- ✅ Date Posted (Auto) -->
        <div class="mb-3">
          <label class="form-label">Date Posted</label>
          <p id="autoDatePosted" class="form-control-plaintext"></p>
          <!-- hidden input para maisama sa form submission -->
          <input type="hidden" id="datePosted" name="datePosted">
        </div>

        <!-- Notes -->
        <div class="mb-3">
          <label for="notes" class="form-label">Description / Notes</label>
          <textarea class="form-control" id="notes" rows="4" placeholder="Include required documents, number of copies, signatures, notarization, etc."></textarea>
        </div>
      </div>

      <div class="modal-footer">
        <button type="submit" class="btn btn-primary">Save & Post</button>
      </div>
    </form>
  </div>
</div>


<!-- Edit Requirement Modal -->
<div class="modal fade" id="editDeadlineModal" tabindex="-1" aria-labelledby="editDeadlineModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header bg-dark-purple text-white">
        <h5 class="modal-title" id="editDeadlineModalLabel">Edit Requirement</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form id="editRequirementForm">
          
          <!-- Requirement Type -->
          <div class="mb-3">
            <label for="editRequirementType" class="form-label">Requirement Type</label>
            <select class="form-select" id="editRequirementType" required>
              <option value="Initial Requirement">Initial Requirement</option>
              <option value="Pre-Deployment Requirement">Pre-Deployment Requirement</option>
              <option value="In-Progress Requirement">In-Progress Requirement</option>
              <option value="Final Requirement">Final Requirement</option>
              <option value="Other">Other</option>
            </select>
          </div>

          <!-- Title -->
          <div class="mb-3">
            <label for="editDeadlineTitle" class="form-label">Title</label>
            <input type="text" class="form-control" id="editDeadlineTitle" required>
          </div>

          <!-- Due Date -->
          <div class="mb-3">
            <label for="editDueDate" class="form-label">Due Date</label>
            <input type="date" class="form-control" id="editDueDate" required>
          </div>

          <!-- ✅ Date Posted (not editable) -->
          <div class="mb-3">
            <label for="editDatePosted" class="form-label">Date Posted</label>
            <p id="editDatePosted" class="form-control-plaintext"></p>
          </div>

          <!-- Notes -->
          <div class="mb-3">
            <label for="editNotes" class="form-label">Notes</label>
            <textarea class="form-control" id="editNotes" rows="3"></textarea>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="submit" class="btn btn-primary" form="editRequirementForm">Save Changes</button>
      </div>
    </div>
  </div>
</div>



<!-- Delete Confirmation Modal -->
<div class="modal fade" id="deleteConfirmModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-danger text-white">
        <h5 class="modal-title"><i class="bi bi-trash3 me-2"></i>Confirm Delete</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        Are you sure you want to delete the selected requirement(s)?
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" data-bs-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Delete</button>
      </div>
    </div>
  </div>
</div> 

<!-- Feedback Modal -->
<div class="modal fade" id="feedbackModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-dialog-centered">
    <div class="modal-content bg-dark-purple text-center m-0 p-0">
      <div class="modal-body text-white small">
        <p id="feedbackMessage" class="mb-0"></p>
      </div>
  </div>
</div>
